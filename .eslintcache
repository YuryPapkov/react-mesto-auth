[{"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\App.js":"1","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\Main.js":"2","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\EditProfilePopup.js":"3","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\utils\\Api.js":"4","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\utils\\Validator.js":"5","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\serviceWorker.js":"6","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\Home.js":"7","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\ProtectedRoute.js":"8","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\Register.js":"9","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\Login.js":"10","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\index.js":"11","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\Footer.js":"12","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\EditAvatarPopup.js":"13","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\ConfirmPopup.js":"14","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\Header.js":"15","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\InfoTooltip.js":"16","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\utils\\Auth.js":"17","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\ErrorPopup.js":"18","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\AddPlacePopup.js":"19","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\contexts\\CurrentUserContext.js":"20"},{"size":1287,"mtime":1606560972260,"results":"21","hashOfConfig":"22"},{"size":1367,"mtime":1602866195018,"results":"23","hashOfConfig":"22"},{"size":2485,"mtime":1606553327447,"results":"24","hashOfConfig":"22"},{"size":4987,"mtime":1603101703792,"results":"25","hashOfConfig":"22"},{"size":3503,"mtime":1606587598131,"results":"26","hashOfConfig":"22"},{"size":5086,"mtime":499162500000,"results":"27","hashOfConfig":"22"},{"size":7329,"mtime":1606555470117,"results":"28","hashOfConfig":"22"},{"size":345,"mtime":1606391608412,"results":"29","hashOfConfig":"22"},{"size":2886,"mtime":1606640888201,"results":"30","hashOfConfig":"22"},{"size":3269,"mtime":1606589934539,"results":"31","hashOfConfig":"22"},{"size":531,"mtime":1601801542464,"results":"32","hashOfConfig":"22"},{"size":228,"mtime":1601801542195,"results":"33","hashOfConfig":"22"},{"size":1520,"mtime":1603041192761,"results":"34","hashOfConfig":"22"},{"size":711,"mtime":1603091276953,"results":"35","hashOfConfig":"22"},{"size":287,"mtime":1606418240500,"results":"36","hashOfConfig":"22"},{"size":1115,"mtime":1606470256876,"results":"37","hashOfConfig":"22"},{"size":1425,"mtime":1606569814798,"results":"38","hashOfConfig":"22"},{"size":299,"mtime":1603091276970,"results":"39","hashOfConfig":"22"},{"size":2021,"mtime":1603091276929,"results":"40","hashOfConfig":"22"},{"size":112,"mtime":1606553687993,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"45"},"11k36le",{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67","usedDeprecatedRules":"60"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"60"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"75"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"72"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\App.js",["90"],"import React from 'react';\nimport { BrowserRouter, Route, Redirect, Switch } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport Home from './Home';\nimport Login from './Login';\nimport Register from './Register';\n\n\nfunction App() {\n  //const history = useHistory();\n  //console.log(useHistory());\n  const [isLoggedIn, setIsLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n\n\n\n\n\n\n  function handleLogin(email) {\n    setIsLoggedIn(true);\n    setEmail(email);\n  }\n  function handleLogout() {\n    setIsLoggedIn(false);\n    localStorage.removeItem('jwt');\n    //history.push('/sign-in');\n  }\n\n\n  return (\n    <BrowserRouter>\n      <div className=\"App\">\n        <div className=\"body\">\n          <Switch>\n            <Route path='/sign-up'>\n              <Register />\n            </Route>\n            <Route path='/sign-in'>\n              <Login handleLogin={handleLogin} />\n            </Route>\n            <ProtectedRoute path='/home' loggedIn={isLoggedIn} email={email} onLogout={handleLogout} component={Home} />\n            <Route>\n              {isLoggedIn ? <Redirect to='/home' /> : <Redirect to='/sign-in' />};\n        </Route>\n          </Switch>\n        </div>\n      </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n",["91","92"],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\Main.js",[],["93","94"],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\EditProfilePopup.js",[],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\utils\\Api.js",[],["95","96"],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\utils\\Validator.js",[],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\serviceWorker.js",[],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\Home.js",[],["97","98"],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\ProtectedRoute.js",[],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\Register.js",[],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\Login.js",["99"],"import React from 'react';\nimport Header from './Header';\nimport { Link, useHistory } from 'react-router-dom';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from '../utils/Auth.js';\nimport { Validator, validationForLoginConfig } from '../utils/Validator';\n\nfunction Login({ handleLogin }) {\n  const [data, setData] = React.useState({\n    email: '',\n    password: ''\n  });\n  const history = useHistory();\n  const [isInfoBoxOpened, setIsInfoBoxOpened] = React.useState(false);\n  const [isSuccess, setIsSuccess] = React.useState(false);\n  const validatorRef = React.useRef();\n\n  React.useEffect(() => {\n    const form = document.forms.login;\n    validatorRef.current = new Validator(validationForLoginConfig, form);\n    validatorRef.current.enableValidation();\n  }, []);\n\n  React.useEffect(() => {\n    checkAuth();\n  }, [])\n\n  function checkAuth() {\n    auth.checkToken()\n      .then((res) => {\n        handleLogin(res.data.email);\n        history.push('/home');\n      })\n      .catch((err) => {\n        history.push('/sign-in');\n      });\n  }\n\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setData({\n      ...data,\n      [name]: value\n    });\n    console.log(data);\n  }\n\n  function handleClose() {\n    setIsInfoBoxOpened(false);\n    isSuccess && history.push('/sign-in');\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    auth.login(data)\n      .then((res) => {\n        if (res.token) {\n          console.log(res);\n          localStorage.setItem('jwt', res.token);\n          setData({\n            ...data,\n            password: ''\n          })\n          handleLogin(data.email);\n          console.log('submitting');\n          history.push('/home');\n        }\n      })\n      .catch((err) => {\n        setIsSuccess(false);\n        setIsInfoBoxOpened(true)\n        console.log(err);\n      })\n  }\n\n  return (\n    <div>\n      <Header >\n        <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\n      </Header>\n      <form\n        name='login'\n        onSubmit={handleSubmit}\n        className=\"auth-form\"\n        noValidate>\n        <p className=\"auth-form__text\">Вход</p>\n        <input\n          name=\"email\"\n          className=\"auth-form__input\"\n          type=\"email\"\n          required\n          pattern=\"^[\\w\\-\\.]+@[\\w\\-\\.]+\"\n          minLength=\"3\"\n          maxLength=\"40\"\n          autoComplete=\"off\"\n          value={data.name}\n          onChange={handleChange}\n          placeholder=\"Email\"\n        />\n        <span className=\"popup__error popup__error_type_email\"></span>\n        <input\n          name=\"password\"\n          className=\"auth-form__input\"\n          type=\"password\"\n          required\n          pattern=\"^[\\w\\-\\.#$%&*]+\"\n          minLength=\"3\"\n          maxLength=\"25\"\n          autoComplete=\"off\"\n          value={data.password}\n          onChange={handleChange}\n          placeholder=\"Пароль\"\n        />\n        <span className=\"popup__error popup__error_type_password\"></span>\n        <button\n          type=\"submit\"\n          className=\"button auth-form__save-button\">\n          Войти\n        </button>\n      </form>\n      <InfoTooltip isOpen={isInfoBoxOpened} isSuccess={isSuccess} onClose={handleClose} />\n\n    </div>\n  );\n}\nexport default Login;\n","C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\index.js",[],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\Footer.js",[],["100","101"],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\EditAvatarPopup.js",[],["102","103"],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\ConfirmPopup.js",[],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\Header.js",[],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\InfoTooltip.js",[],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\utils\\Auth.js",[],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\ErrorPopup.js",[],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\components\\AddPlacePopup.js",[],"C:\\Users\\Папков\\dev\\project react-mesto-auth\\mesto-auth\\src\\contexts\\CurrentUserContext.js",[],{"ruleId":"104","severity":1,"message":"105","line":7,"column":13,"nodeType":"106","messageId":"107","endLine":7,"endColumn":17},{"ruleId":"108","replacedBy":"109"},{"ruleId":"110","replacedBy":"111"},{"ruleId":"108","replacedBy":"112"},{"ruleId":"110","replacedBy":"113"},{"ruleId":"108","replacedBy":"114"},{"ruleId":"110","replacedBy":"115"},{"ruleId":"108","replacedBy":"116"},{"ruleId":"110","replacedBy":"117"},{"ruleId":"118","severity":1,"message":"119","line":26,"column":6,"nodeType":"120","endLine":26,"endColumn":8,"suggestions":"121"},{"ruleId":"108","replacedBy":"122"},{"ruleId":"110","replacedBy":"123"},{"ruleId":"108","replacedBy":"124"},{"ruleId":"110","replacedBy":"125"},"no-unused-vars","'auth' is defined but never used.","Identifier","unusedVar","no-native-reassign",["126"],"no-negated-in-lhs",["127"],["126"],["127"],["126"],["127"],["126"],["127"],"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'checkAuth'. Either include it or remove the dependency array.","ArrayExpression",["128"],["126"],["127"],["126"],["127"],"no-global-assign","no-unsafe-negation",{"desc":"129","fix":"130"},"Update the dependencies array to be: [checkAuth]",{"range":"131","text":"132"},[829,831],"[checkAuth]"]